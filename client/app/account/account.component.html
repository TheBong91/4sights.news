<app-loading [condition]="isLoading"></app-loading>

  <div class="account-container mat-elevation-z4">
    <div class="header-title">Account Settings
    </div>
    <form class="account-form" #accountForm="ngForm" (ngSubmit)="save(user)">

      <div class="input-container">
        <md-input-container class="input-full-width">
            <input mdInput class="input-full-width" type="text" name="name" [(ngModel)]="user.name" placeholder="Name" required>
        </md-input-container>
      </div>
      <div class="input-container">
        <md-input-container class="input-full-width">
            <input mdInput class="input-full-width" type="text" name="surname" [(ngModel)]="user.surname" placeholder="Surname" required>
        </md-input-container>
      </div>
      <div class="input-container">
      <md-input-container class="input-full-width">
          <input mdInput class="input-full-width" type="email" name="email" [(ngModel)]="user.email" placeholder="Email" required>
      </md-input-container>
      </div>
      <div class="input-container">
          <md-select name="role" class="input-full-width special-input-wrapper" [(ngModel)]="user.role" placeholder="Role">
            <md-option value="" disabled>Role</md-option>
            <md-option value="user">User</md-option>
            <md-option value="admin">Admin</md-option>
          </md-select>
      </div>
      <label style="margin-bottom:15px"> Your Preferences </label>

      <div class="checkboxes">
        <md-checkbox class="single_box" *ngFor="let category of userCategoryPreferencesMap" [checked]="category.value" (change)="updateCheckedOptions(category, $event)">{{category.category.name}}</md-checkbox>
      </div>

      <button class="bottom-row" md-raised-button color="primary" style="color:#fff" type="submit" [disabled]="!accountForm.form.valid">
          <md-icon>save</md-icon> Save
      </button>


    </form>

  </div>
